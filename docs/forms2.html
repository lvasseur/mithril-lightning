<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MLD - Forms</title>

  <link href="/assets/styles/salesforce-lightning-design-system.min.css" rel="stylesheet">
  <link href="styles/style.css" rel="stylesheet">
</head>
<body>

<div id="app">

</div>

<script src="mithril.js"></script>
<script src="bundle.js"></script>
<script src="faker.min.js"></script>
<script src="helpers.js"></script>

<script>

  var lookupData = [
    {
      "description": "Vandervoort Avenue",
      "name": "Limozen",
      "href": "57d88125365a185fc0259aa2"
    },
    {
      "description": "Crown Street",
      "name": "Nurplex",
      "href": "57d881252f28b431a3a2d43b"
    },
    {
      "description": "Banner Avenue",
      "name": "Equitax",
      "href": "57d881254d0e3aa39c43440a"
    },
    {
      "description": "Varet Street",
      "name": "Zaphire",
      "href": "57d88125bc03230f0ffb1340"
    },
    {
      "description": "Cherry Street",
      "name": "Xiix",
      "href": "57d88125d2a464ec65e06e13"
    },
    {
      "description": "Hanson Place",
      "name": "Columella",
      "href": "57d881256f43bf4c51c1669d"
    },
    {
      "description": "Amherst Street",
      "name": "Automon",
      "href": "57d881255533ec4e695e9fe7"
    },
    {
      "description": "Norman Avenue",
      "name": "Sustenza",
      "href": "57d881258d35fa142ab4180b"
    },
    {
      "description": "Commercial Street",
      "name": "Digitalus",
      "href": "57d88125f84493f7986896bd"
    },
    {
      "description": "Lloyd Court",
      "name": "Applideck",
      "href": "57d881259962ab12c16eee04"
    }
  ];

  var searchTerm = m.prop("");

  var radioItens = [
    {
      label: "One",
      value: "radio-one"
    },
    {
      label: "Two",
      value: "radio-two"
    },
    {
      label: "Three",
      value: "radio-three"
    },
    {
      label: "Four",
      value: "radio-four"
    }
  ];

  var formDataHorizontal = {
    lookup: m.prop(""),
    label1: m.prop(""),
    label2: m.prop(""),
    label3: m.prop(""),
    label4: m.prop(""),
    checkebox: m.prop(false),
    radio: m.prop("")
  };
  var formDataStacked = {
    s_label1: m.prop(""),
    s_label2: m.prop(""),
    s_label3: m.prop(""),
    s_label4: m.prop(""),
    s_checkebox: m.prop(false),
    s_radio: m.prop("")
  };

  var formElementsCompound = function () {
    return [
      {
        legend: "One",
        elements: [
          [
            m(mlds.lookups, {
              label: "Lookups Company",
              placeholder: "Search companies",
              query: searchTerm,
              searchOninput: m.withAttr("value", searchTerm),
              value: formDataHorizontal.lookup,
              filter: function (item) {
                return item.name.toLowerCase().indexOf(searchTerm) > -1 || item.description.toLowerCase().indexOf(searchTerm) > -1 ;
              },
              data: {
                list: lookupData,
                key: "href"
              },
              newButton: {
                url: "/test/new",
                label: "New Company"
              }
            }),
            mlds.form.input({
              label: "Label2",
              input: {
                placeholder: "Placeholder Label2",
                name: "s_label2"
              },
              wrapper: {
                class: "slds-size--1-of-2"
              }
            })
          ]
        ]
      },
      {
        legend: "Two",
        elements: [
          [
            mlds.form.input({
              label: "Label3",
              input: {
                placeholder: "Placeholder Label3",
                name: "s_label4"
              },
              wrapper: {
                class: "slds-size--1-of-1"
              }
            }),
            mlds.form.input({
              label: "Label4",
              input: {
                placeholder: "Placeholder Label4",
                name: "s_label5"
              },
              wrapper: {
                class: "slds-size--1-of-3"
              }
            }),
          ],
          [
            mlds.form.input({
              label: "Label1",
              input: {
                placeholder: "Placeholder Label1",
                name: "s_label1"
              },
              wrapper: {
                class: "slds-size--1-of-2"
              }
            }),
            mlds.form.input({
              label: "Label1",
              input: {
                placeholder: "Placeholder Label1",
                name: "s_label1"
              },
              wrapper: {
                class: "slds-size--1-of-2"
              }
            }),
            mlds.form.input({
              label: "Label2",
              input: {
                placeholder: "Placeholder Label2",
                name: "s_label2"
              },
              wrapper: {
                class: "slds-size--1-of-2"
              }
            })
          ],
          [
            mlds.form.input({
              label: "Label1",
              input: {
                placeholder: "Placeholder Label1",
                name: "s_label1"
              },
              wrapper: {
                class: "slds-size--1-of-2"
              }
            }),
            mlds.form.input({
              label: "Label2",
              input: {
                placeholder: "Placeholder Label2",
                name: "s_label2"
              },
              wrapper: {
                class: "slds-size--1-of-2"
              }
            }),
            mlds.form.input({
              label: "Label1",
              input: {
                placeholder: "Placeholder Label1",
                name: "s_label1"
              },
              wrapper: {
                class: "slds-size--1-of-2"
              }
            }),
            mlds.form.input({
              label: "Label2",
              input: {
                placeholder: "Placeholder Label2",
                name: "s_label2"
              },
              wrapper: {
                class: "slds-size--1-of-2"
              }
            })
          ]
        ]
      }
    ]

  };

  var formEl = function () {
    return [
      m(mlds.lookups, {
        label: "Lookups Company",
        placeholder: "Search companies",
        query: searchTerm,
        searchOninput: m.withAttr("value", searchTerm),
        value: formDataHorizontal.lookup,
        filter: function (item) {
          return item.name.toLowerCase().indexOf(searchTerm) > -1 || item.description.toLowerCase().indexOf(searchTerm) > -1 ;
        },
        data: {
          list: lookupData,
          key: "href"
        },
        newButton: {
          url: "/test/new",
          label: "New Company"
        }
      }),

      mlds.form.input({
        label: "Label1",
        input: {
          placeholder: "Placeholder Label1",
          name: "label1",
        }
      }),
      mlds.form.input({
        label: "Label2",
        input: {
          placeholder: "Placeholder Label2",
          name: "label2"
        }
      }),
      mlds.form.input({
        label: "Label3",
        input: {
          placeholder: "Placeholder Label3",
          name: "label3"
        }
      }),
      mlds.form.input({
        label: "Label4",
        input: {
          placeholder: "Placeholder Label4",
          name: "label4"
        }
      }),
      mlds.form.checkbox({
        label: "Is checked",
        name: "checkboxTest",
        checkbox: {
          name: "checkebox"
        }
      }),
      mlds.form.radioGroup({
        label: "Radio Group label: ",
        name: "radio",
        itens: radioItens
      })
    ]
  };

  m.mount(document.getElementById("app"), {
    view: function () {
      return m(".navigation"),
              m("main", [
                m(".masthead", [
                  m("h1.", "Forms"),
                ]),
                m(".content", [
                  m("section", [
                    m("h2.slds-m-bottom--medium.desc", "Horizontal"),
                    m(mlds.form.wrapper.compound, mlds.form.bindsData(formDataStacked), formElementsCompound())
                  ]),
                  m("ol", [
                    Object.keys(formDataHorizontal).map(function (key) {
                      return m("li", key + ": ", formDataHorizontal[key]())
                    })
                  ]),

                ])
              ])
    }
  });

</script>

</body>
</html>