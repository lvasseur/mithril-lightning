<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MLD - Page Header</title>

  <link href="/assets/styles/salesforce-lightning-design-system.min.css" rel="stylesheet">
  <link href="styles/style.css" rel="stylesheet">
</head>
<body>

<div id="app">
</div>

<script src="mithril.js"></script>
<script src="bundle.js"></script>
<script src="faker.min.js"></script>
<script src="helpers.js"></script>

<script>

  var lvlOne = [m("button.slds-button.slds-button--neutral", "New Lead"),
    m("button.slds-button.slds-button--neutral", "Import Leads"),
    m(".slds-button--last", [
      m("button.slds-button.slds-button--icon-border-filled[aria-haspopup='true']", [
        m("svg.slds-button__icon[aria-hidden='true']", [
          m("use[xlink:href='/assets/icons/utility-sprite/svg/symbols.svg#down']")
        ]),
        m("span.slds-assistive-text", "More Actions")
      ])
    ])];

  var itens = [
    {
      href: "/test",
      label: faker.lorem.word()
    },
    {
      href: "/test",
      label: faker.lorem.word()
    },
    {
      href: "/test",
      label: faker.lorem.word()
    },
    {
      href: "/test",
      label: faker.lorem.word()
    }
  ];

  m.mount(document.getElementById("app"), {
    view: function () {
      return [m(".navigation"),
        m("main", [
          m(".masthead", [
            m("h1.", "Page Headers"),
            m("p", "Page headers are used at the top of several page types. They use the " +
                    ".slds-page-header class as a base and are comprised of multiple components.")
          ]),
          m(".content", [
            m("section", [
              m("h2.slds-m-bottom--medium.desc", "Object Home"),
              m(mlds.pageheader.home, {
                module: "Test",
                submodule: "Test Sub",
                icon: mlds.icon.standard("case"),
                desc: "Simple desc",
                actionsOne: lvlOne,
                menu: m(mlds.menu, {
                  icon: mlds.icon.utility("down", {
                    class: "slds-button__icon"
                  }),
                  itens: itens
                })
              }),
              m("hr"),
              m("h2.slds-m-bottom--medium.desc", "Record Home"),
              m(mlds.pageheader.record, {
                type: "Test",
                title: "Test Title",
                icon: mlds.icon.standard("people"),
                fields: {
                  "href": "ID",
                  "name": {
                    label: "Nome",
                    field: "test"
                  },
                  "another": {
                    label: "Another",
                    callback: function (value) {
                      return value.toUpperCase()
                    }
                  },
                  "test2": {
                    label: "Compound",
                    field: "value",
                    callback: function (list) {
                      var result = list.filter(function (item) {
                        return item["type"] === "test1";
                      });
                      console.log(result[0])
                      return result[0]['value']
                    }
                  }
                },
                record: {
                  href: "123445",
                  name: {
                    test: "Recorde Test"
                  },
                  another: "Outro campo",
                  test2: [
                    {
                      type: "test1",
                      value: "Value 1"
                    },
                    {
                      type: "test2",
                      value: "Value 2"
                    }
                  ]
                },
                actions: lvlOne
              }),
            ])
          ])
        ]),
      ]
    }
  });
</script>

</body>
</html>